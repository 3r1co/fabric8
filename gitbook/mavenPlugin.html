<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Maven Plugin | Fabric8 Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.5.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    
    
    <link rel="next" href="./debugging.html" />
    
    
    <link rel="prev" href="./developer.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">

    
    <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
    


        
    <div class="book" data-level="3.2" data-basepath="." data-revision="1446911011244">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="overview.html">
            
                
                    <a href="./overview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Overview
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="getStarted.html">
            
                
                    <a href="./getStarted.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Get Started
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="quickstarts.html">
            
                
                    <a href="./quickstarts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         QuickStarts
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="environmentVariables.html">
            
                
                    <a href="./environmentVariables.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Environment Variables
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="developer.html">
            
                
                    <a href="./developer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Developing
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="developer.html">
            
                
                    <a href="./developer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         Workflow
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="3.2" data-path="mavenPlugin.html">
            
                
                    <a href="./mavenPlugin.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         Maven Plugin
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="debugging.html">
            
                
                    <a href="./debugging.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         Debugging
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="arquillian.html">
            
                
                    <a href="./arquillian.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         Arquillian
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="continuousDeployment.html">
            
                
                    <a href="./continuousDeployment.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         Continuous Deployment
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.6" data-path="migration.html">
            
                
                    <a href="./migration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                         Migration
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="architecture.html">
            
                
                    <a href="./architecture.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Architecture
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="registry.html">
            
                
                    <a href="./registry.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Registry
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="profiles.html">
            
                
                    <a href="./profiles.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         Profiles
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.3" data-path="agent.html">
            
                
                    <a href="./agent.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                         Agent
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.4" data-path="git.html">
            
                
                    <a href="./git.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                         Git
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.5" data-path="mavenProxy.html">
            
                
                    <a href="./mavenProxy.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                         Maven Proxy
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="containers.html">
            
                
                    <a href="./containers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Containers
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="childContainers.html">
            
                
                    <a href="./childContainers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         Child Containers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.2" data-path="microServices.html">
            
                
                    <a href="./microServices.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                         Micro Services
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.3" data-path="javaContainer.html">
            
                
                    <a href="./javaContainer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                         Java Container
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.4" data-path="processContainer.html">
            
                
                    <a href="./processContainer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                         Process Container
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.5" data-path="springBootContainer.html">
            
                
                    <a href="./springBootContainer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                         Spring Boot Container
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.6" data-path="docker.html">
            
                
                    <a href="./docker.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                         Docker
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.7" data-path="kubernetes.html">
            
                
                    <a href="./kubernetes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                         Kubernetes
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.8" data-path="sshContainers.html">
            
                
                    <a href="./sshContainers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                         SSH Containers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.9" data-path="openshift.html">
            
                
                    <a href="./openshift.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.9.</b>
                        
                         OpenShift
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.10" data-path="cloudContainers.html">
            
                
                    <a href="./cloudContainers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.10.</b>
                        
                         Cloud Containers
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="features.html">
            
                
                    <a href="./features.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         Features
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1" data-path="gateway.html">
            
                
                    <a href="./gateway.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                         Gateway
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.2" data-path="requirements.html">
            
                
                    <a href="./requirements.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                         Auto Scaling
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.3" data-path="rollingUpgrade.html">
            
                
                    <a href="./rollingUpgrade.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                         Rolling Upgrade
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.4" data-path="osgiResolver.html">
            
                
                    <a href="./osgiResolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                         OSGi Resolver
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.5" data-path="offlineRepo.html">
            
                
                    <a href="./offlineRepo.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                         Offline Repository
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.6" data-path="partition.html">
            
                
                    <a href="./partition.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                         Partition
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.7" data-path="processManager.html">
            
                
                    <a href="./processManager.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                         Process Manager
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.8" data-path="security.html">
            
                
                    <a href="./security.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.</b>
                        
                         Security
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.9" data-path="propertyResolver.html">
            
                
                    <a href="./propertyResolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.9.</b>
                        
                         Property Resolver
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.10" data-path="urlHandlers.html">
            
                
                    <a href="./urlHandlers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.10.</b>
                        
                         URL Handlers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.11" data-path="insight.html">
            
                
                    <a href="./insight.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.11.</b>
                        
                         Insight
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="technologies.html">
            
                
                    <a href="./technologies.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Technologies
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1" data-path="activemq.html">
            
                
                    <a href="./activemq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                         Apache ActiveMQ
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1.1" data-path="brokerTopology.html">
            
                
                    <a href="./brokerTopology.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.1.</b>
                        
                         Broker Topology
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.1.2" data-path="brokerClients.html">
            
                
                    <a href="./brokerClients.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.2.</b>
                        
                         Broker Clients
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.2" data-path="camel.html">
            
                
                    <a href="./camel.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                         Apache Camel
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.2.1" data-path="dataTransform.html">
            
                
                    <a href="./dataTransform.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.1.</b>
                        
                         Data Transform
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2.2" data-path="camelEndpointAmq.html">
            
                
                    <a href="./camelEndpointAmq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.2.</b>
                        
                         amq: endpoint
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2.3" data-path="camelEndpointFabric.html">
            
                
                    <a href="./camelEndpointFabric.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.3.</b>
                        
                         fabric: endpoint
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2.4" data-path="camelEndpointMaster.html">
            
                
                    <a href="./camelEndpointMaster.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.4.</b>
                        
                         master: endpoint
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.3" data-path="cxf.html">
            
                
                    <a href="./cxf.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                         Apache CXF
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.3.1" data-path="cxfFabric.html">
            
                
                    <a href="./cxfFabric.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.1.</b>
                        
                         CXF Fabric
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.4" data-path="spring.html">
            
                
                    <a href="./spring.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                         Spring framework
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="FAQ.html">
            
                
                    <a href="./FAQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         FAQ
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.1" data-path="faqGeneral.html">
            
                
                    <a href="./faqGeneral.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                         General Questions
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2" data-path="faqUsing.html">
            
                
                    <a href="./faqUsing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                         Questions On Using Fabric8
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.3" data-path="faqConfig.html">
            
                
                    <a href="./faqConfig.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                         Configuration Questions
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.4" data-path="faqIssues.html">
            
                
                    <a href="./faqIssues.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                         Known Issues
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.4.1" data-path="faqOsgi.html">
            
                
                    <a href="./faqOsgi.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.1.</b>
                        
                         Questions on OSGi and Fabric8
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_36">
                    
                        <h2 id="fabric8-maven-plugin"><a name="fabric8-maven-plugin" class="anchor" href="#fabric8-maven-plugin"><span class="fa fa-link"></span></a>Fabric8 Maven Plugin</h2>
<p>This maven plugin makes it easy to create or update a fabric profile from your maven project.</p>
<p>When you deploy your project to a fabric profile with this plugin the following takes place:</p>
<ul>
<li>uploads any artifacts into the fabric&apos;s maven repository</li>
<li>lazily creates the fabric profile or version you specify</li>
<li>adds/updates the maven project artifact into the profile configuration</li>
<li>adds any additional parent profile, bundles or features to the profile.</li>
</ul>
<h3 id="configuring-the-plugin"><a name="configuring-the-plugin" class="anchor" href="#configuring-the-plugin"><span class="fa fa-link"></span></a>Configuring the plugin</h3>
<p>First you will need to edit your <strong>~/.m2/settings.xml</strong> file to add the fabric server&apos;s user and password so that the maven plugin can login to the fabric..</p>
<p>e.g. add this to the &lt;servers&gt; element:</p>
<pre><code>&lt;server&gt;
  &lt;id&gt;fabric8.upload.repo&lt;/id&gt;
  &lt;username&gt;admin&lt;/username&gt;
  &lt;password&gt;admin&lt;/password&gt;
&lt;/server&gt;
</code></pre><p>If you don&apos;t do this, the first time you use the fabric8 plugin it will ask you if you wish to update your ~/.m2/settings.xml file and prompt you for the information; then update it.</p>
<p>The default fabric upload maven repo ID is <strong>fabric8.upload.repo</strong>. You can define as many &lt;server&gt; elements in your settings file as you like for each of the fabrics you wish to work with. Then to pick the credentials to use for a server specify the server id as the <strong>serverId</strong> property on the fabric8 maven plugin configuration section (see below) or use the <strong>fabric8.serverId</strong> maven property.</p>
<h3 id="using-the-plugin"><a name="using-the-plugin" class="anchor" href="#using-the-plugin"><span class="fa fa-link"></span></a>Using the plugin</h3>
<p>To use the fabric8 maven plugin to deploy into a fabric profile on any maven project just type:</p>
<pre><code>mvn io.fabric8:fabric8-maven-plugin:1.2.0.Beta4:deploy
</code></pre><p>If you have added the fabric8 maven plugin to your pom.xml as follows:</p>
<pre><code>&lt;plugins&gt;
  &lt;plugin&gt;
    &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
    &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre><p>Then you can use the more concise maven goal instead:</p>
<pre><code>mvn fabric8:deploy
</code></pre><p>The project will then be built and deployed into a profile in the fabric. By default the profile is named <strong>$group-$artifact</strong> but you can override the profile ID, version ID and location of the Fabric Jolokia URL via the maven plugin configuration or via the command line.</p>
<p>e.g. to try it out</p>
<pre><code>cd quickstarts/rest
mvn io.fabric8:fabric8-maven-plugin:1.2.0.Beta4:deploy
</code></pre><p>Then you should see this profile being created at the <a href="http://localhost:8181/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/my/rest.profile" target="_blank">my-rest/rest profile page</a> which should have a bundle and some features added too (click on the Bundle and Feature tabs and you should see those).</p>
<h3 id="configuring-the-fabric-server"><a name="configuring-the-fabric-server" class="anchor" href="#configuring-the-fabric-server"><span class="fa fa-link"></span></a>Configuring the fabric server</h3>
<p>By default the fabric8 maven plugin deploys to a local fabric server using the url</p>
<pre><code>http://localhost:8181/jolokia
</code></pre><p>To use a remote fabric server you can either configure this in the plugin in the <strong>pom.xml</strong> file using the <strong>jolokiaUrl</strong> configuration as shown below</p>
<pre><code>&lt;plugins&gt;
  &lt;plugin&gt;
      &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
      &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
      &lt;configuration&gt;
        &lt;jolokiaUrl&gt;http://someServer:8181/jolokia&lt;/jolokiaUrl&gt;
      &lt;/configuration&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre><p>... or specify the url in the command line</p>
<pre><code>mvn fabric8:deploy -Dfabric8.jolokiaUrl=http://someServer:8181/jolokia
</code></pre><h4 id="quick-deploy-without-testing"><a name="quick-deploy-without-testing" class="anchor" href="#quick-deploy-without-testing"><span class="fa fa-link"></span></a>Quick deploy without testing</h4>
<p>Sometimes you may want to skip testing before deploying, if you have done a trivial change. This can be done by speciftying <code>-DskipTests</code> via the command line as shown:</p>
<pre><code>mvn fabric8:deploy -DskipTests
</code></pre><h3 id="specifying-the-profile-information-in-the-plugin-configuration"><a name="specifying-the-profile-information-in-the-plugin-configuration" class="anchor" href="#specifying-the-profile-information-in-the-plugin-configuration"><span class="fa fa-link"></span></a>Specifying the profile information in the plugin configuration</h3>
<p>You can configure the maven plugin to explicitly specify the profile to create via the plugin &lt;configuration&gt; section in your pom.xml:</p>
<pre><code>&lt;plugins&gt;
  &lt;plugin&gt;
      &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
      &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
      &lt;configuration&gt;
        &lt;profile&gt;my-thing&lt;/profile&gt;
      &lt;/configuration&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre><p>Or you can use maven properties to configure the plugin, which provides a more flexible way to map multi-module projects in maven onto profiles in fabric8.</p>
<p>For example if you have a multi-module maven project like this:</p>
<pre><code>pom.xml
foo/
  pom.xml
  a/pom.xml
  b/pom.xml
  ...
bar/
  pom.xml
  c/pom.xml
  d/pom.xml
  ...
</code></pre><p>then in the root pom.xml you might want to define the mvn plugin once like this:</p>
<pre><code>&lt;plugins&gt;
  &lt;plugin&gt;
      &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
      &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre><p>Then in foo/pom.xml you can define the <strong>fabric8.profile</strong> property:</p>
<pre><code>&lt;project&gt;
  ...
  &lt;properties&gt;
    &lt;fabric8.profile&gt;my-foo&lt;/fabric8.profile&gt;
    ...
  &lt;/properties&gt;
  ...
</code></pre><p>Then all of the projects within the foo folder, such as foo/a and foo/b would all deploy to the same profile (in this case profile <strong>my-foo</strong>). You can use the same approach to put all of the projects inside the bar folder into a different profile too.</p>
<p>At any point in your tree of maven projects you can define a maven <strong>fabric8.profile</strong> property to specify exactly where it gets deployed; along with any other property on the plugin (see the Property Reference below).</p>
<h3 id="specifying-features-additional-bundles-repositories-and-parent-profiles"><a name="specifying-features-additional-bundles-repositories-and-parent-profiles" class="anchor" href="#specifying-features-additional-bundles-repositories-and-parent-profiles"><span class="fa fa-link"></span></a>Specifying features, additional bundles, repositories and parent profiles</h3>
<p>As of 1.1.0.CR6 we have the <a href="http://fabric8.io/gitbook/osgiResolver.html" target="_blank">OSGi Resolver</a> which if you are deploying a <strong>bundle</strong> packaging project it will try to automatically choose the best parent profiles, features and bundles for your bundle.</p>
<p>You can also explicitly specify additional configuration in the maven plugin using maven properties...</p>
<pre><code>&lt;properties&gt;
    &lt;!-- fabric8 deploy profile configuration --&gt;
    &lt;fabric8.profile&gt;quickstarts-karaf-cxf-rest&lt;/fabric8.profile&gt;
    &lt;fabric8.parentProfiles&gt;feature-cxf&lt;/fabric8.parentProfiles&gt;
    &lt;fabric8.features&gt;cxf-jaxrs swagger&lt;/fabric8.features&gt;
&lt;/properties&gt;
</code></pre><p>Notice we can pass in a space-separated list of features to include in the profile.</p>
<p>We&apos;ve used space separated lists for the parent profile IDs, features, repositories and bundles so that its easy to reuse maven properties for these values (for example to add some extra features in a child maven project while inheriting from the parent project).</p>
<p>The <a href="http://fabric8.io/gitbook/osgiResolver.html" target="_blank">OSGi Resolver</a> will add any missing dependencies via analysing your projects dependency tree (ignoring all test and provided scope dependencies).</p>
<p>So to force the OSGi Resovler to ignore a particular dependency in your pom.xml, just mark it as scope provided.</p>
<p>If you wish you can disable the OSGi Resolver completely just specify the <strong>fabric8.useResolver</strong> property as being <strong>false</strong>.</p>
<h4 id="specifying-configuration-using-maven-properties-on-the-command-line"><a name="specifying-configuration-using-maven-properties-on-the-command-line" class="anchor" href="#specifying-configuration-using-maven-properties-on-the-command-line"><span class="fa fa-link"></span></a>Specifying configuration using maven properties on the command line</h4>
<p>You can also use maven property values (or command line arguments) to specify the configuration values by prefixing the property name with <strong>fabric8.</strong>.</p>
<p>e.g. to deploy a maven project to a different profile name try:</p>
<pre><code>mvn fabric8:deploy -Dfabric8.profile=cheese -Dfabric8.profileVersion=1.1
</code></pre><p>By default the project artifacts are uploaded to the maven repository inside the fabric. If you wish to disable this and just update the profile configuration (e.g. if you&apos;re already pointing your fabric maven repository to your local maven repository), you can specify <strong>fabric8.upload=false</strong> as a property:</p>
<pre><code>mvn fabric8:deploy -Dfabric8.upload=false
</code></pre><h3 id="adding-additional-configuration-files-into-the-profile"><a name="adding-additional-configuration-files-into-the-profile" class="anchor" href="#adding-additional-configuration-files-into-the-profile"><span class="fa fa-link"></span></a>Adding additional configuration files into the profile</h3>
<p>If you create the directory <strong>src/main/fabric8</strong> in your local project and add any configuration files or a ReadMe.md file (for documentation) in your project they will get automatically uploaded into the profile too.</p>
<p>e.g. in your project if you run this command:</p>
<pre><code>mkdir -p src/main/fabric8
echo &quot;## Hello World&quot; &gt;&gt; src/main/fabric8/ReadMe.md
mvn fabric8:deploy
</code></pre><p>Then when your profile will have a ReadMe.md wiki page uploaded.</p>
<h3 id="adding-pid-files-into-the-profile"><a name="adding-pid-files-into-the-profile" class="anchor" href="#adding-pid-files-into-the-profile"><span class="fa fa-link"></span></a>Adding PID files into the profile</h3>
<p>Probably one of the most interesting use cases of the <code>src/main/fabric8</code> directory, is uploading PID files into your
profile. For example you can take <code>my.pid.properties</code> file with the following contents:</p>
<pre><code>foo=bar
baz=qux
</code></pre><p>...and place it in the <code>src/main/fabric8</code> directory. After executing <code>mvn fabric8:deploy</code> command, the
<code>my.pid.properties</code> file will be uploaded into your profile as a <code>my.pid</code> PID configuration:</p>
<pre><code>&gt; profile-display myprofile
...
Configuration details
----------------------------
PID: my.pid
  foo bar
  baz qux
</code></pre><h4 id="using-maven-placeholders-in-pid-files"><a name="using-maven-placeholders-in-pid-files" class="anchor" href="#using-maven-placeholders-in-pid-files"><span class="fa fa-link"></span></a>Using Maven placeholders in PID files</h4>
<p>We recommend to add the <code>src/main/fabric8</code> directory to the list of the resources
<a href="http://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html" target="_blank">filtered</a> by Maven. For example:</p>
<pre><code>&lt;build&gt;
  &lt;resources&gt;
    &lt;resource&gt;
      &lt;directory&gt;src/main/fabric8&lt;/directory&gt;
      &lt;filtering&gt;true&lt;/filtering&gt;
    &lt;/resource&gt;
  &lt;/resources&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
      &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;${fabric8.version}&lt;/version&gt;
      &lt;configuration&gt;
        &lt;profile&gt;invoicing&lt;/profile&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
</code></pre><p>With Maven resources filtering enabled, you can use placeholder in your PID files:</p>
<pre><code>jarUrl = mvn:${project.groupId}:${project.artifactId}:${project.version}
</code></pre><p>Keep in mind that even if Maven resource filtering is not enabled, <code>${project.groupId}</code>, <code>${project.artifactId}</code> and 
<code>${project.version}</code> placeholders will be still expanded into the project version of the current Maven module.</p>
<h4 id="specifying-the-minimum-number-of-required-containers-for-the-profile"><a name="specifying-the-minimum-number-of-required-containers-for-the-profile" class="anchor" href="#specifying-the-minimum-number-of-required-containers-for-the-profile"><span class="fa fa-link"></span></a>Specifying the minimum number of required containers for the profile</h4>
<p>You can specify the minimum number of instances of a profile that are expected via the <strong>fabric8.minInstanceCount</strong> property. This value defaults to <strong>1</strong> so that it means the profile you deploy should be instantiated. See the <a href="requirements.html">requirements documentation</a> for more details.</p>
<p>What this means is that out of the box if you deploy a profile then view the Profiles tab in the Runtime section of the console, you should see a warning if the profile is not running yet. If you then click on the red button for the missing profile it takes you straight to the <em>Create Container</em> page for the  profile. This means you don&apos;t have to go hunting around the wiki for the profile to create.</p>
<p>Also if you deploy the <strong>autoscale</strong> profile then this will automatically create new containers if their requirement count increases.</p>
<h3 id="specifying-properties"><a name="specifying-properties" class="anchor" href="#specifying-properties"><span class="fa fa-link"></span></a>Specifying Properties</h3>
<p>Our recommendation is to use maven properties to configure the fabric8 maven plugin as follows; you just need to add the <strong>fabric8.</strong> prefix to any property name. This is then easier to work with across multi-maven projects and its easier to inherit values etc.</p>
<pre><code>&lt;project&gt;
  ...
  &lt;properties&gt;
    &lt;fabric8.profile&gt;my-foo&lt;/fabric8.profile&gt;
    ...
  &lt;/properties&gt;
  ...
</code></pre><p>Which is equivalent to specifying them on the command line:</p>
<pre><code>mvn fabric8:deploy -Dfabric8.profile=my-foo
</code></pre><p>If you really want to you can specify the properties (without the <strong>fabric8.</strong> prefix) in the plugin configuration:</p>
<pre><code>&lt;plugins&gt;
  &lt;plugin&gt;
      &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
      &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
      &lt;configuration&gt;
        &lt;profile&gt;${fabric8.profile}&lt;/profile&gt;
      &lt;/configuration&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre><h3 id="property-reference"><a name="property-reference" class="anchor" href="#property-reference"><span class="fa fa-link"></span></a>Property Reference</h3>
<table class="table table-striped">
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td>profile</td>
<td>The name of the fabric profile to deploy your project to. If not specified it defaults to the groupId-artifactId of your project.</td>
</tr>
<tr>
<td>abstractProfile</td>
<td>Whether the profile is marked as abstract. Defaults to <b>false</b></td>
</tr>
<tr>
<td>serverId</td>
<td>The server ID used to lookup in <b>~/.m2/settings/xml</b> for the &lt;server&gt; element to find the username / password to login to the fabric. Defaults to <b>fabric8.upload.repo</b></td>
</tr>
<tr>
<td>jolokiaUrl</td>
<td>The Jolokia URL of the Fabric console. Defaults to <b><a href="http://localhost:8181/jolokia" target="_blank">http://localhost:8181/jolokia</a></b>. Username and password can also be specified in the jolokiaUrl which allows to use a custom credentials, or in cases where storing login information in the Maven <tt>settings.xml</tt> file is not desired. See further below for more details.</td>
</tr>
<tr>
<td>profileVersion</td>
<td>The profile version in which to update the profile. If not specified it defaults to the current version of the fabric.</td>
</tr>
<tr>
<td>baseVersion</td>
<td>If the version does not exist, the baseVersion is used as the initial value of the newly created version. This is like creating a branch from the baseVersion for the new version branch in git.</td>
</tr>
<tr>
<td>parentProfiles</td>
<td>Space separated list of parent profile IDs to be added to the newly created profile. Defaults to <b>karaf</b>.</td>
</tr>
<tr>
<td>features</td>
<td>Space separated list of features to be added to the profile. e.g. a value could be this to include both the camel and cxf features: <code>&lt;features&gt;camel cxf&lt;/features&gt;</code></td>
</tr>
<tr>
<td>featureRepos</td>
<td>Space separated list of feature Repository URLs to be added to the Profile. Of the form <code>mvn:groupId/artifactId/version/xml/features</code></td>
</tr>
<tr>
<td>bundles</td>
<td>Space separated list of additional bundle URLs (of the form <code>mvn:groupId/artifactId/version</code> to be added to the newly created profile. Note you do not have to include the current maven project artifact; this configuration is intended as a way to list dependent required bundles.</td>
</tr>
<tr>
<td>minInstanceCount</td>
<td>The minimum required number of instances of this profile. This defaults to 1 if you do not specify it. See the <a href="requirements.html">requirements documentation</a> for more details.</td>
</tr>
<tr>
<td>upload</td>
<td>Whether or not the deploy goal should upload the local builds to the fabric maven repository. You could disable this step if you have configured your fabric maven repository to reuse your local maven repository. Defaults to true.</td>
</tr>
<tr>
<td>ignoreProject</td>
<td>If set to true then this maven project is ignored when goals like fabric8:deploy are invoked from a parent project. Defaults to false.</td>
</tr>
<tr>
<td>includeArtifact</td>
<td>If set to false then the maven artifact of the project is ignored; its not uploaded and not added/updated in the profile. Defaults to true.</td>
</tr>
<tr>
<td>artifactBundleType</td>
<td>Overrides the type (file extension) of the project artifact bundle to include in the profile (see includeArtifact).
Normally the type is set to the project POM&apos;s packaging value.</td>
</tr>
<tr>
<td>artifactBundleClassifier</td>
<td>Overrides the classifier of the project artifact bundle to include in the profile (see includeArtifact).
Normally the classifier is empty. The artifactBundleType parameter must always be specified explicitly
when using the artifactBundleClassifier parameter.</td>
</tr>
<tr>
<td>profileConfigDir</td>
<td>The folder in your maven project containing configuration files which should be deployed into the profile along with the artifact configuration. This defaults to <b>src/main/fabric8</b>. Create that directory and add any configuration files or documentation you wish to add to your profile.</td>
</tr>
<tr>
<td>includeReadMe</td>
<td>Whether or not to include the project readme file (if exists). Notice that if there is already a readme file in <b>profileConfigDir</b>, then that file is included, and <b>not</b> the project readme file. Defaults to true.</td>
</tr>
<tr>
<td>webContextPath</td>
<td>For web applications (projects with <em>war</em> packaging) this property specifies the context path to use for the web application; such as &quot;/&quot; or &quot;/myapp&quot;. This value defaults to the archetype id.</td>
</tr>
<tr>
<td>replaceReadmeLinksPrefix</td>
<td>Used by the <code>zip</code> goal, which allows to prefix any links in the <code>readme.md</code> files to make the links work in both github and as links in the fabric wiki. For example the fabric quickstarts uses this, by prefixing with <code>/fabric/profiles/quickstarts/</code>.</td>
</tr>
<tr>
<td>useResolver</td>
<td>Whether or not the OSGi resolver is used for bundles or karaf based containers to deduce the additional bundles or features that need to be added to your projects dependencies to be able to satisfy the OSGi package imports. Defaults to false.</td>
</tr>
<tr>
<td>locked</td>
<td>Whether or not the created profile should be locked (so its read only). Defaults to false.</td>
</tr>
</table>

<h3 id="specifying-credentials-from-command-line"><a name="specifying-credentials-from-command-line" class="anchor" href="#specifying-credentials-from-command-line"><span class="fa fa-link"></span></a>Specifying credentials from command line</h3>
<p>The <strong>fabric8:deploy</strong> goal will by default read the username and password from the local Maven <code>settings.xml</code> file. This may not be desired to store password as plain-text. The option <code>jolokiaUrl</code> can be used to specify the url for the remote fabric server including username and password. For example to use username <code>scott</code> and password <code>tiger</code> then type:</p>
<pre><code> fabric8:deploy -Dfabric8.jolokiaUrl=http://scott:tiger@localhost:8181/jolokia
</code></pre><p>Tip: You can get the jolokia url using <code>fabric:info</code> from the fabric shell.</p>
<h3 id="generating-karaf-shell-scripts-for-each-profile"><a name="generating-karaf-shell-scripts-for-each-profile" class="anchor" href="#generating-karaf-shell-scripts-for-each-profile"><span class="fa fa-link"></span></a>Generating Karaf shell scripts for each profile</h3>
<p>You can also use the <strong>fabric8:script</strong> goal using the same configuration above to auto-generate a profile create karaf script. The script can then be used from the Karaf shell to create the profile. </p>
<p>From the Karaf shell you can use the <code>shell:source</code> command to run the script, eg:</p>
<pre><code>shell:source file:somepath\target\profile.karaf
</code></pre><p>The <strong>fabric:script</strong> creates the script file by default as <code>target\profile.karaf</code>. The name of the output file can be configured using the following options:</p>
<h3 id="property-reference"><a name="property-reference" class="anchor" href="#property-reference"><span class="fa fa-link"></span></a>Property Reference</h3>
<p><table class="table table-striped"></table></p>
<p><tr></tr></p>
<p><th>Parameter</th></p>
<p><th>Description</th>
</p>
<p><tr></tr></p>
<p><td>outputFile</td></p>
<p><td>The name of the script file. Is by default <tt>target\profile.karaf</tt></td>
</p>
<tr>

</tr>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./developer.html" class="navigation navigation-prev " aria-label="Previous page: Workflow"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./debugging.html" class="navigation navigation-next " aria-label="Next page: Debugging"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
