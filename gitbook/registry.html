<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Registry | Fabric8 Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.5.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    
    
    <link rel="next" href="./profiles.html" />
    
    
    <link rel="prev" href="./architecture.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">

    
    <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
    


        
    <div class="book" data-level="4.1" data-basepath="." data-revision="1446911011244">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="overview.html">
            
                
                    <a href="./overview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Overview
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="getStarted.html">
            
                
                    <a href="./getStarted.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Get Started
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="quickstarts.html">
            
                
                    <a href="./quickstarts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         QuickStarts
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="environmentVariables.html">
            
                
                    <a href="./environmentVariables.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Environment Variables
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="developer.html">
            
                
                    <a href="./developer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Developing
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="developer.html">
            
                
                    <a href="./developer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         Workflow
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="mavenPlugin.html">
            
                
                    <a href="./mavenPlugin.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         Maven Plugin
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="debugging.html">
            
                
                    <a href="./debugging.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         Debugging
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="arquillian.html">
            
                
                    <a href="./arquillian.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         Arquillian
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="continuousDeployment.html">
            
                
                    <a href="./continuousDeployment.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         Continuous Deployment
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.6" data-path="migration.html">
            
                
                    <a href="./migration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                         Migration
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="architecture.html">
            
                
                    <a href="./architecture.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Architecture
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter active" data-level="4.1" data-path="registry.html">
            
                
                    <a href="./registry.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Registry
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="profiles.html">
            
                
                    <a href="./profiles.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         Profiles
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.3" data-path="agent.html">
            
                
                    <a href="./agent.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                         Agent
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.4" data-path="git.html">
            
                
                    <a href="./git.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                         Git
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.5" data-path="mavenProxy.html">
            
                
                    <a href="./mavenProxy.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                         Maven Proxy
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="containers.html">
            
                
                    <a href="./containers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Containers
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="childContainers.html">
            
                
                    <a href="./childContainers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         Child Containers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.2" data-path="microServices.html">
            
                
                    <a href="./microServices.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                         Micro Services
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.3" data-path="javaContainer.html">
            
                
                    <a href="./javaContainer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                         Java Container
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.4" data-path="processContainer.html">
            
                
                    <a href="./processContainer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                         Process Container
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.5" data-path="springBootContainer.html">
            
                
                    <a href="./springBootContainer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                         Spring Boot Container
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.6" data-path="docker.html">
            
                
                    <a href="./docker.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                         Docker
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.7" data-path="kubernetes.html">
            
                
                    <a href="./kubernetes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                         Kubernetes
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.8" data-path="sshContainers.html">
            
                
                    <a href="./sshContainers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                         SSH Containers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.9" data-path="openshift.html">
            
                
                    <a href="./openshift.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.9.</b>
                        
                         OpenShift
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.10" data-path="cloudContainers.html">
            
                
                    <a href="./cloudContainers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.10.</b>
                        
                         Cloud Containers
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="features.html">
            
                
                    <a href="./features.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         Features
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1" data-path="gateway.html">
            
                
                    <a href="./gateway.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                         Gateway
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.2" data-path="requirements.html">
            
                
                    <a href="./requirements.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                         Auto Scaling
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.3" data-path="rollingUpgrade.html">
            
                
                    <a href="./rollingUpgrade.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                         Rolling Upgrade
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.4" data-path="osgiResolver.html">
            
                
                    <a href="./osgiResolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                         OSGi Resolver
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.5" data-path="offlineRepo.html">
            
                
                    <a href="./offlineRepo.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                         Offline Repository
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.6" data-path="partition.html">
            
                
                    <a href="./partition.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                         Partition
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.7" data-path="processManager.html">
            
                
                    <a href="./processManager.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                         Process Manager
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.8" data-path="security.html">
            
                
                    <a href="./security.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.</b>
                        
                         Security
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.9" data-path="propertyResolver.html">
            
                
                    <a href="./propertyResolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.9.</b>
                        
                         Property Resolver
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.10" data-path="urlHandlers.html">
            
                
                    <a href="./urlHandlers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.10.</b>
                        
                         URL Handlers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.11" data-path="insight.html">
            
                
                    <a href="./insight.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.11.</b>
                        
                         Insight
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="technologies.html">
            
                
                    <a href="./technologies.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Technologies
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1" data-path="activemq.html">
            
                
                    <a href="./activemq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                         Apache ActiveMQ
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1.1" data-path="brokerTopology.html">
            
                
                    <a href="./brokerTopology.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.1.</b>
                        
                         Broker Topology
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.1.2" data-path="brokerClients.html">
            
                
                    <a href="./brokerClients.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.2.</b>
                        
                         Broker Clients
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.2" data-path="camel.html">
            
                
                    <a href="./camel.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                         Apache Camel
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.2.1" data-path="dataTransform.html">
            
                
                    <a href="./dataTransform.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.1.</b>
                        
                         Data Transform
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2.2" data-path="camelEndpointAmq.html">
            
                
                    <a href="./camelEndpointAmq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.2.</b>
                        
                         amq: endpoint
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2.3" data-path="camelEndpointFabric.html">
            
                
                    <a href="./camelEndpointFabric.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.3.</b>
                        
                         fabric: endpoint
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2.4" data-path="camelEndpointMaster.html">
            
                
                    <a href="./camelEndpointMaster.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.4.</b>
                        
                         master: endpoint
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.3" data-path="cxf.html">
            
                
                    <a href="./cxf.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                         Apache CXF
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.3.1" data-path="cxfFabric.html">
            
                
                    <a href="./cxfFabric.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.1.</b>
                        
                         CXF Fabric
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.4" data-path="spring.html">
            
                
                    <a href="./spring.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                         Spring framework
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="FAQ.html">
            
                
                    <a href="./FAQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         FAQ
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.1" data-path="faqGeneral.html">
            
                
                    <a href="./faqGeneral.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                         General Questions
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2" data-path="faqUsing.html">
            
                
                    <a href="./faqUsing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                         Questions On Using Fabric8
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.3" data-path="faqConfig.html">
            
                
                    <a href="./faqConfig.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                         Configuration Questions
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.4" data-path="faqIssues.html">
            
                
                    <a href="./faqIssues.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                         Known Issues
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.4.1" data-path="faqOsgi.html">
            
                
                    <a href="./faqOsgi.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.1.</b>
                        
                         Questions on OSGi and Fabric8
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_50">
                    
                        <h2 id="registry"><a name="registry" class="anchor" href="#registry"><span class="fa fa-link"></span></a>Registry</h2>
<p>Fabric8 uses <a href="http://zookeeper.apache.org/" target="_blank">Apache ZooKeeper</a>, which is highly reliable distributed coordination service,
as its registry to store the cluster configuration and node registration.</p>
<p>ZooKeeper is designed with consistency and high availability across data centers in mind while also protecting against network splits by using a quorum of ZooKeeper servers. e.g. you may run 3 or 5 ZooKeeper servers and so long as you have quorum running (2 or 3 servers respectively) you are reliable and are not in a network split.</p>
<p>Conceptually Fabric has 2 registries:</p>
<ul>
<li><strong>Configuration Registry</strong> which is the logical configuration of your fabric and typically contains no physical machine information; its your logical configuration.</li>
<li><strong>Runtime Registry</strong> which contains details of how many machines are actually running, their physical location details and what services they are implementing.</li>
</ul>
<h3 id="initializing-the-registry"><a name="initializing-the-registry" class="anchor" href="#initializing-the-registry"><span class="fa fa-link"></span></a>Initializing the registry</h3>
<p>There are currently two ways of initializing the fabric registry:</p>
<pre><code>  fabric:create
</code></pre><h3 id="registry-structure"><a name="registry-structure" class="anchor" href="#registry-structure"><span class="fa fa-link"></span></a>Registry structure</h3>
<p>The structure of the registry is a tree like structure similar to a filesystem. Each node of the tree <em>(will be called znode)</em> can hold both data and have children.</p>
<p>Here is how the structure of the registry looks like:</p>
<pre><code>    fabric
        |
        +----registry (runtime registry)
        |        |
        |        +----containers
        |                 |
        |                 +----root
        |
        +----configs (configuration registry)
                 |
                 +----versions
                 |        |
                 |        +----1.0
                 |               |
                 |               +----profiles
                 |                        |
                 |                        +----default
                 |
                 +----containers
</code></pre><h3 id="making-the-registry-highly-available"><a name="making-the-registry-highly-available" class="anchor" href="#making-the-registry-highly-available"><span class="fa fa-link"></span></a>Making the registry highly available</h3>
<p>Having a single container hosting the registry, doesn&apos;t provide high availability. In order to have a highly available registry, we need to add more containers as part of it. The common term used to describe the group of servers that are forming the registry is ensemble.
Fabric allows you to dynamically add or remove containers from the ensemble, by using the <a href="commands/commands.html">command line shells in Karaf</a>.</p>
<h4 id="adding-containers-to-the-ensemble"><a name="adding-containers-to-the-ensemble" class="anchor" href="#adding-containers-to-the-ensemble"><span class="fa fa-link"></span></a>Adding containers to the ensemble</h4>
<p>Assuming that we have created a fabric cluster, with a single registry container as described above and that we have already added a couple of containers join the fabric cluster.
The list of fabric containers could look like this:</p>
<pre><code>    [id]                           [version] [alive] [profiles]                     [provision status]
    root*                          1.0       true    fabric, fabric-ensemble-0000-1
    container1                     1.0       true    default                        success
    container2                     1.0       true    default                        success
</code></pre><p>You could then add container1 and container2 as part of the ensemble using the <strong>fabric:ensemble-add</strong> command from the shell:</p>
<pre><code>   fabric:ensemble-add container1 container2
</code></pre><p>You can watch the following clip, which demonstrates the above. It actually starts a fresh fabric, install fabric into 2 additional containers in the local network <em>(from scratch using just the shell)</em> and finally adds the containers to the ensemble.</p>
<object width="853" height="480"><param name="movie" value="http://www.youtube.com/v/qCujpN4hPgY?version=3&amp;hl=en_US&amp;rel=0"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="http://www.youtube.com/v/qCujpN4hPgY?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="853" height="480" allowscriptaccess="always" allowfullscreen="true"></object>



<h3 id="accessing-the-registry-at-the-zookeeper-level"><a name="accessing-the-registry-at-the-zookeeper-level" class="anchor" href="#accessing-the-registry-at-the-zookeeper-level"><span class="fa fa-link"></span></a>Accessing the registry at the zookeeper level</h3>
<p>Even though fabric does provide a rich tool set for accessing the registry <em>(both configuration &amp; runtime)</em>, working with profiles and managing the containers, there might be cases where someone, needs to access the registry at the zookeeper level.
To cover those needs fabric provides a set of commands.</p>
<p>To install the fabric zookeeper commands you need to install the fabric-zookeeper-commands feature.</p>
<pre><code>    features:install fabric-zookeeper-commands
</code></pre><p>Please note, that if you want to use that feature inside a managed container, you will have to use the profiles, instead.
The commands that are provided are:</p>
<ul>
<li><p><strong>zk:list</strong> <em><path></em> Lists the znodes under the specified path.</p>
</li>
<li><p><strong>zk:get</strong> <em><znode></znode></em> Returns the value of the specified znode.</p>
</li>
<li><p><strong>zk:set</strong> <em><znode></znode></em> <em><value></value></em> Sets the value of the specified znode.</p>
</li>
<li><p><strong>zk:create</strong> <em><znode></znode></em> Create a new znode.</p>
</li>
<li><p><strong>zk:delete</strong> <em><znode></znode></em> Deletes a znode.</p>
</li>
</ul>
<h4 id="modifying-the-runtime-configuration-of-a-container-using-the-zookeeper-commands"><a name="modifying-the-runtime-configuration-of-a-container-using-the-zookeeper-commands" class="anchor" href="#modifying-the-runtime-configuration-of-a-container-using-the-zookeeper-commands"><span class="fa fa-link"></span></a>Modifying the runtime configuration of a container using the zookeeper commands</h4>
<p>In the following video you can see how to install the zookeeper commands and how you can use them to inspect and edit the registry.
The example demonstrates how you can use the zookeeper commands to manually assign an extra ip to an existing fabric container.</p>
<object width="853" height="480"><param name="movie" value="http://www.youtube.com/v/ZiFbFMTMyjc?version=3&amp;hl=en_US&amp;rel=0"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="http://www.youtube.com/v/ZiFbFMTMyjc?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="853" height="480" allowscriptaccess="always" allowfullscreen="true"></object>





                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./architecture.html" class="navigation navigation-prev " aria-label="Previous page: Architecture"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./profiles.html" class="navigation navigation-next " aria-label="Next page: Profiles"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
