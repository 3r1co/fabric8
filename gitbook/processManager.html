<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Process Manager | Fabric8 Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.5.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    
    
    <link rel="next" href="./security.html" />
    
    
    <link rel="prev" href="./partition.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">

    
    <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
    


        
    <div class="book" data-level="6.7" data-basepath="." data-revision="1446911011244">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="overview.html">
            
                
                    <a href="./overview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Overview
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="getStarted.html">
            
                
                    <a href="./getStarted.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Get Started
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="quickstarts.html">
            
                
                    <a href="./quickstarts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         QuickStarts
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="environmentVariables.html">
            
                
                    <a href="./environmentVariables.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Environment Variables
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="developer.html">
            
                
                    <a href="./developer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Developing
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="developer.html">
            
                
                    <a href="./developer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         Workflow
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="mavenPlugin.html">
            
                
                    <a href="./mavenPlugin.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         Maven Plugin
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="debugging.html">
            
                
                    <a href="./debugging.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         Debugging
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="arquillian.html">
            
                
                    <a href="./arquillian.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         Arquillian
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="continuousDeployment.html">
            
                
                    <a href="./continuousDeployment.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         Continuous Deployment
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.6" data-path="migration.html">
            
                
                    <a href="./migration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                         Migration
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="architecture.html">
            
                
                    <a href="./architecture.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Architecture
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="registry.html">
            
                
                    <a href="./registry.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Registry
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="profiles.html">
            
                
                    <a href="./profiles.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         Profiles
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.3" data-path="agent.html">
            
                
                    <a href="./agent.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                         Agent
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.4" data-path="git.html">
            
                
                    <a href="./git.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                         Git
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.5" data-path="mavenProxy.html">
            
                
                    <a href="./mavenProxy.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                         Maven Proxy
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="containers.html">
            
                
                    <a href="./containers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Containers
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="childContainers.html">
            
                
                    <a href="./childContainers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         Child Containers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.2" data-path="microServices.html">
            
                
                    <a href="./microServices.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                         Micro Services
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.3" data-path="javaContainer.html">
            
                
                    <a href="./javaContainer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                         Java Container
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.4" data-path="processContainer.html">
            
                
                    <a href="./processContainer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                         Process Container
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.5" data-path="springBootContainer.html">
            
                
                    <a href="./springBootContainer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                         Spring Boot Container
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.6" data-path="docker.html">
            
                
                    <a href="./docker.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                         Docker
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.7" data-path="kubernetes.html">
            
                
                    <a href="./kubernetes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                         Kubernetes
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.8" data-path="sshContainers.html">
            
                
                    <a href="./sshContainers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                         SSH Containers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.9" data-path="openshift.html">
            
                
                    <a href="./openshift.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.9.</b>
                        
                         OpenShift
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.10" data-path="cloudContainers.html">
            
                
                    <a href="./cloudContainers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.10.</b>
                        
                         Cloud Containers
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="features.html">
            
                
                    <a href="./features.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         Features
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1" data-path="gateway.html">
            
                
                    <a href="./gateway.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                         Gateway
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.2" data-path="requirements.html">
            
                
                    <a href="./requirements.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                         Auto Scaling
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.3" data-path="rollingUpgrade.html">
            
                
                    <a href="./rollingUpgrade.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                         Rolling Upgrade
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.4" data-path="osgiResolver.html">
            
                
                    <a href="./osgiResolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                         OSGi Resolver
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.5" data-path="offlineRepo.html">
            
                
                    <a href="./offlineRepo.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                         Offline Repository
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.6" data-path="partition.html">
            
                
                    <a href="./partition.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                         Partition
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="6.7" data-path="processManager.html">
            
                
                    <a href="./processManager.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                         Process Manager
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.8" data-path="security.html">
            
                
                    <a href="./security.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.</b>
                        
                         Security
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.9" data-path="propertyResolver.html">
            
                
                    <a href="./propertyResolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.9.</b>
                        
                         Property Resolver
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.10" data-path="urlHandlers.html">
            
                
                    <a href="./urlHandlers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.10.</b>
                        
                         URL Handlers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.11" data-path="insight.html">
            
                
                    <a href="./insight.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.11.</b>
                        
                         Insight
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="technologies.html">
            
                
                    <a href="./technologies.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Technologies
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1" data-path="activemq.html">
            
                
                    <a href="./activemq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                         Apache ActiveMQ
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1.1" data-path="brokerTopology.html">
            
                
                    <a href="./brokerTopology.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.1.</b>
                        
                         Broker Topology
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.1.2" data-path="brokerClients.html">
            
                
                    <a href="./brokerClients.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.2.</b>
                        
                         Broker Clients
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.2" data-path="camel.html">
            
                
                    <a href="./camel.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                         Apache Camel
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.2.1" data-path="dataTransform.html">
            
                
                    <a href="./dataTransform.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.1.</b>
                        
                         Data Transform
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2.2" data-path="camelEndpointAmq.html">
            
                
                    <a href="./camelEndpointAmq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.2.</b>
                        
                         amq: endpoint
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2.3" data-path="camelEndpointFabric.html">
            
                
                    <a href="./camelEndpointFabric.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.3.</b>
                        
                         fabric: endpoint
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2.4" data-path="camelEndpointMaster.html">
            
                
                    <a href="./camelEndpointMaster.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.4.</b>
                        
                         master: endpoint
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.3" data-path="cxf.html">
            
                
                    <a href="./cxf.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                         Apache CXF
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.3.1" data-path="cxfFabric.html">
            
                
                    <a href="./cxfFabric.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.1.</b>
                        
                         CXF Fabric
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.4" data-path="spring.html">
            
                
                    <a href="./spring.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                         Spring framework
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="FAQ.html">
            
                
                    <a href="./FAQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         FAQ
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.1" data-path="faqGeneral.html">
            
                
                    <a href="./faqGeneral.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                         General Questions
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2" data-path="faqUsing.html">
            
                
                    <a href="./faqUsing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                         Questions On Using Fabric8
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.3" data-path="faqConfig.html">
            
                
                    <a href="./faqConfig.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                         Configuration Questions
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.4" data-path="faqIssues.html">
            
                
                    <a href="./faqIssues.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                         Known Issues
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.4.1" data-path="faqOsgi.html">
            
                
                    <a href="./faqOsgi.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.1.</b>
                        
                         Questions on OSGi and Fabric8
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_46">
                    
                        <h2 id="process-management"><a name="process-management" class="anchor" href="#process-management"><span class="fa fa-link"></span></a>Process Management</h2>
<p>The <strong>Process Manager</strong> bundle provides support for running <em>managed processes</em> on a machine. A <em>managed process</em> is a stand alone operating system process which is managed by the Process Manager.</p>
<p>A managed process keeps running if the Process Manager is restarted and it can still start/stop/restart/uninstall the process after it itself is restarted; as the Process Manager knows how to find the underlying operating system process ID (PID) of each managed process.</p>
<p>The Process Manager can run any application; in which case it acts like using init.d, xinit.d, daemontools, monit and other kinds of unix process manager. The difference though is the Process Manager can act at the Fabric8 level since we can use <a href="profiles.html">Fabric Profiles</a> to determine which machines run which proceses in a fabric.</p>
<p>A <em>managed process</em> is similar conceptually to <em>child containers</em> in a root Apache Karaf container; each managed process is a separate, stand alone operating system process installed in a sub directory of <strong>${karaf-home}/processes</strong> and is managed by the root container to install/start/stop/restart/uninstall the process.</p>
<p>To users familiar with Apache Karaf, a managed process feels similar to a bundle or feature in a  Karaf container and its interactive shell; the difference being a managed process is a separate, stand alone operating system process.</p>
<p>A process typically has a directory which contains a launcher script according to the <a href="http://refspecs.linuxbase.org/LSB_3.1.1/LSB-Core-generic/LSB-Core-generic/iniscrptact.html" target="_blank">Init Script Actions Specification</a> for starting/stopping/restarting etc.</p>
<h3 id="deploying-jars-as-managed-processes"><a name="deploying-jars-as-managed-processes" class="anchor" href="#deploying-jars-as-managed-processes"><span class="fa fa-link"></span></a>Deploying JARs as managed processes</h3>
<p>The Process Manager also supports turning any Java code (a collection of jars and an executable class name) into a stand alone managed process which can be managed like other operating system processes.</p>
<p>This means you can have fine grained process isolation at the JAR level. Rather than running all your Java code in one big container in a single process, you can decouple executable jars into separate processes all managed as if it were inside a single Java container - will full process isolation and no concerns over potential resource leaks.</p>
<p>One bad managed process will not affect any others and each process can be easily stopped without affecting any others.</p>
<p>This means with Fabric8 you can easily move your Java code between OSGi bundles, <a href="../../bundle/index.html">Fuse Bundles</a> or <em>managed processes</em> depending on your coupling, scaling or process isolation requirements.</p>
<h3 id="managing-processes-like-tomcat-jetty-hq-agent"><a name="managing-processes-like-tomcat-jetty-hq-agent" class="anchor" href="#managing-processes-like-tomcat-jetty-hq-agent"><span class="fa fa-link"></span></a>Managing processes like Tomcat, Jetty, HQ Agent</h3>
<p>The <a href="https://github.com/fabric8io/fabric8/blob/master/process/process-manager/src/main/java/io/fabric8/process/manager/ProcessController.java#L35" target="_blank">ProcessController</a> can run any process; though it needs to know exactly how to run it. It assumes the <a href="http://refspecs.linuxbase.org/LSB_3.1.1/LSB-Core-generic/LSB-Core-generic/iniscrptact.html" target="_blank">Init Script Actions Specification</a> for starting/stopping/restarting etc.</p>
<p>The default is to use a launch script called <strong>bin/launcher</strong> and then specify a parameter for each command</p>
<ul>
<li>bin/launcher start</li>
<li>bin/launcher stop</li>
<li>bin/launcher restart</li>
<li>bin/launcher status</li>
<li>bin/launcher kill</li>
</ul>
<p>You can also specify a configuration in JSON for the controller to use:</p>
<pre><code>process:install -c urlOfJson urlOfTarBall
</code></pre><p>For example to install Apache Tomcat:</p>
<pre><code>process-install -c https://raw.github.com/fabric8io/fabric8/blob/master/process/process-manager/src/main/resources/tomcat.json http://apache.favoritelinks.net/tomcat/tomcat-7/v7.0.53/bin/apache-tomcat-7.0.53.tar.gz
</code></pre><p>then once installed you can start/stop/restart/status it like any other process.</p>
<h3 id="kinds-of-process-controller"><a name="kinds-of-process-controller" class="anchor" href="#kinds-of-process-controller"><span class="fa fa-link"></span></a>Kinds of process controller</h3>
<p>Process Manager ships with some default <strong>kinds</strong> of controller which lets you use a more concise command to run some common processes.</p>
<p>For example to install an <a href="http://tomcat.apache.org/" target="_blank">Apache Tomcat</a> distro with the name mycat, in this case <a href="http://tomee.apache.org/" target="_blank">Apache TomEE</a>:</p>
<pre><code>process:install -k tomcat mycat mvn:org.apache.openejb/apache-tomee/1.7.0/tar.gz/plus
</code></pre><p>You can use any URL for a distro of Tomcat you wish in the above command. For example you could refer to a specific HTTP URL for a Tomcat distro...</p>
<pre><code>process:install -k tomcat mycat http://repo2.maven.org/maven2/org/apache/openejb/apache-tomee/1.7.0/apache-tomee-1.7.0-plus.tar.gz
</code></pre><p>To run <a href="http://www.eclipse.org/jetty/" target="_blank">Jetty</a>:</p>
<pre><code>process:install -k jetty myjetty http://central.maven.org/maven2/org/eclipse/jetty/jetty-distribution/8.1.4.v20120524/jetty-distribution-8.1.4.v20120524.tar.gz
</code></pre><p>or</p>
<pre><code>process:install -k jetty myjetty mvn:org.eclipse.jetty/jetty-distribution/8.1.4.v20120524
</code></pre><p>Or to install a Fuse HQ Agent</p>
<pre><code>process:install -k fusehq-agent myagent someURLToDistro
</code></pre><h3 id="working-with-processes-from-the-shell"><a name="working-with-processes-from-the-shell" class="anchor" href="#working-with-processes-from-the-shell"><span class="fa fa-link"></span></a>Working with processes from the Shell</h3>
<p>Once a process is installed it given a number (1, 2, 3 etc) which refers to the ID used within the shell to refer to it, to be able to start/stop/restart etc. <strong>Note</strong> that this is not the same thing as the operating system PID!</p>
<p>To view the current installations and their IDs and PIDs use</p>
<pre><code>ps
</code></pre><p>You&apos;ll then see the simple IDs, the real OS PIDs and the URLs of the installed processes.</p>
<p>Once you know the process number you can then start/stop/restart/status/kill it</p>
<pre><code>process:start 1
process:restart 1
process:status 1
</code></pre><h4 id="listing-all-the-process-related-commands"><a name="listing-all-the-process-related-commands" class="anchor" href="#listing-all-the-process-related-commands"><span class="fa fa-link"></span></a>Listing all the process-related commands</h4>
<p>To see all the available process-related commands type as follows:</p>
<pre><code>help process
</code></pre><h4 id="listing-environment-variables-of-managed-process"><a name="listing-environment-variables-of-managed-process" class="anchor" href="#listing-environment-variables-of-managed-process"><span class="fa fa-link"></span></a>Listing environment variables of managed process</h4>
<p>In order to display the environment variables assigned by the Fabric8 to the managed process, use
<code>process:environment &lt;pid&gt;</code> command.</p>
<pre><code>&gt; process:environment myProcess
[Variable]                     [Value]
FABRIC8_CONTAINER_NAME         sb1
FABRIC8_HTTP_PORT              8080
FABRIC8_HTTP_PROXY_PORT        9002
FABRIC8_SSHD_PROXY_PORT        9000
FABRIC8_ZOOKEEPER_URL          192.168.122.1:2181
</code></pre><h3 id="installing-a-jar-as-a-managed-process"><a name="installing-a-jar-as-a-managed-process" class="anchor" href="#installing-a-jar-as-a-managed-process"><span class="fa fa-link"></span></a>Installing a jar as a managed process</h3>
<p>You can use the <strong>process:install-jar</strong> command to install a jar as a managed process as follows:</p>
<pre><code>process:install-jar groupId artifactId version
</code></pre><p>e.g. to create a managed process from this <a href="https://github.com/fabric8io/fabric8/tree/master/process/samples/process-sample-camel-spring" target="_blank">sample jar</a>:</p>
<pre><code> process:install-jar io.fabric8.samples process-sample-camel-spring 1.1.0
</code></pre><p>This will then download the jar using the maven coordinates (groupID / artifactId / version) and create a binary installation with the launcher to start/stop/restart the process etc</p>
<h4 id="if-the-jar-has-no-main-class"><a name="if-the-jar-has-no-main-class" class="anchor" href="#if-the-jar-has-no-main-class"><span class="fa fa-link"></span></a>If the jar has no main class</h4>
<p>Some jars just contain, say, Spring XML or blueprints and don&apos;t contain an executable main. If you need to supply one just specify the <strong>-m</strong> or <strong>--main</strong> options on the command line.</p>
<p>For example:</p>
<pre><code>process:install-jar -m org.apache.camel.spring.Main io.fabric8.samples process-sample-camel-spring-just-xml 1.1.0
</code></pre><p>This will then boot up all the Spring XML files in the META-INF/spring/*.xml URI on the classpath.</p>
<h4 id="dependencies"><a name="dependencies" class="anchor" href="#dependencies"><span class="fa fa-link"></span></a>Dependencies</h4>
<p>Fabric will download all the dependencies of the installed jar and include them in the classpath of the managed JVM process.
Dependencies are resolved and fetched using Maven dependency resolution mechanism.</p>
<h3 id="creating-a-managed-process-distro-from-java-code"><a name="creating-a-managed-process-distro-from-java-code" class="anchor" href="#creating-a-managed-process-distro-from-java-code"><span class="fa fa-link"></span></a>Creating a managed process distro from Java code</h3>
<p>See the <a href="https://github.com/fabric8io/fabric8/blob/master/process/samples/process-sample-camel-spring/pom.xml#L88" target="_blank">example project</a> for how you can take any jar with an executable main and turn it into a <strong>tar.gz</strong> which can then be installed directly.</p>
<p>Generally its a case of</p>
<ul>
<li>adding the <a href="https://github.com/fabric8io/fabric8/blob/master/process/samples/process-sample-camel-spring/pom.xml#L82" target="_blank">assembly plugin XML</a> to create the tar.gz file using the <a href="https://github.com/fabric8io/fabric8/tree/master/process/process-packaging" target="_blank">process-packaging</a></li>
<li>adding the new tar.gz to the maven build via the <a href="https://github.com/fabric8io/fabric8/blob/master/process/samples/process-sample-camel-spring/pom.xml#L90" target="_blank">build-helper-maven-plugin</a></li>
</ul>
<p>So to install the above sample as a tarball use:</p>
<pre><code>process:install mvn:io.fabric8.samples/process-sample-camel-spring/1.1.0/tar.gz
</code></pre><h3 id="debugging-managed-processes"><a name="debugging-managed-processes" class="anchor" href="#debugging-managed-processes"><span class="fa fa-link"></span></a>Debugging managed processes</h3>
<p>Not all your process deployments will succeed with no issues. If your process is not starting successfully, try to
examine the logs of the process you want to start. If digging into logs doesn&apos;t help, try to connect to the process with
the debugger build into your IDE.</p>
<h4 id="location-of-the-managed-processes-data"><a name="location-of-the-managed-processes-data" class="anchor" href="#location-of-the-managed-processes-data"><span class="fa fa-link"></span></a>Location of the managed processes data</h4>
<p>The managed processes data can be usually found in the <code>FABRIC8_HOME/processes</code> directory. Each process uses directory
identified by the numerical ID assigned to it by the process manager. The same numerical identifiers are displayed by the
process manager when you execute <code>ps</code> command in the Fabric8 shell.</p>
<p>The listing below demonstrates what you might see in the <code>processes</code> directory. Directories <code>1</code>, <code>2</code> and <code>3</code> are the
directories of the particular managed  processes:</p>
<pre><code> ~/labs/fabric8 % ls instances
 instance.properties 1 2 3
</code></pre><h4 id="managed-process-logs"><a name="managed-process-logs" class="anchor" href="#managed-process-logs"><span class="fa fa-link"></span></a>Managed process logs</h4>
<p>The standard output and standard error streams of the process are redirected to the <code>PROCESS_DIRECTORY/logs/out.log</code> and
<code>PROCESS_DIRECTORY/logs/err.log</code> respectively. This is usually a good place to start to investigate when your
application doesn&apos;t start properly.</p>
<h4 id="connecting-to-the-remote-process-with-the-debugger"><a name="connecting-to-the-remote-process-with-the-debugger" class="anchor" href="#connecting-to-the-remote-process-with-the-debugger"><span class="fa fa-link"></span></a>Connecting to the remote process with the debugger</h4>
<p>If investigating process logs isn&apos;t enough to identify the issue, you should consider connecting with the debugger to
the managed process. In order to start managed process with the remote debugger port 5005 opened and waiting for you to
connect, execute the following command:</p>
<pre><code>FABRIC8_JVM_DEBUG=TRUE PROCESS_DIRECTORY/bin/launcher start
</code></pre><p>If environmental variable <code>FABRIC8_JVM_DEBUG</code> is set to <code>TRUE</code>, the process will be started with the debugger waiting
for you to connect to the port 5005.</p>
<h3 id="process-management---test-api"><a name="process-management---test-api" class="anchor" href="#process-management---test-api"><span class="fa fa-link"></span></a>Process management - test API</h3>
<p>Fabric8 comes with the <code>io.fabric8.process.test.AbstractProcessTest</code> base class dedicated for testing processes managed 
by Fabric8. <code>AbstractProcessTest</code> provides utilities to gracefully start, test and stop managed processes. In order to use
Fabric8 test API, include add the following jar in your project:</p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
  &lt;artifactId&gt;process-test&lt;/artifactId&gt;
  &lt;version&gt;${fabric-version}&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre><p>Keep in mind that due to the performance reasons you should bootstrap tested process as a singleton static member of
the test class before your test suite starts (you can do it in the <code>@BeforeClass</code> block). <code>AbstractProcessTest</code> is 
primarily designed to work with the static singleton instances of the processes living as long as the test suite.
The snippet below demonstrates this approach.</p>
<pre><code>public class InvoicingMicroServiceTest extends AbstractProcessTest {

  static ProcessController processController;

  @BeforeClass
  public static void before() throws Exception {
    processController = processManagerService.installJar(...).getController();
    startProcess(processController);
  }

  @AfterClass
  public static void after() throws Exception {
    stopProcess(processController);
  }

  @Test
  public void shouldDoSomething() throws Exception {
    // test your process here
  }

}
</code></pre><p>As you can see in the snippet above, <code>AbstractProcessTest</code> comes with the <code>ProcessManagerService</code> instance
(<code>processManagerService</code>) living for the period of the test class lifespan. Data of the tested processes is stored in
the temporary directory.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./partition.html" class="navigation navigation-prev " aria-label="Previous page: Partition"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./security.html" class="navigation navigation-next " aria-label="Next page: Security"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
